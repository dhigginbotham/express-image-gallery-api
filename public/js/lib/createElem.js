// Generated by CoffeeScript 1.6.3
(function() {
  var $, assignevents, createElem, creator, events,
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  $ = jQuery;

  events = ['blur', 'focus', 'focusin', 'focusout', 'load', 'resize', 'scroll', 'unload', 'click', 'dblclick', 'mousedown', 'mouseup', 'mousemove', 'mouseover', 'mouseout', 'mouseenter', 'mouseleave', 'change', 'select', 'submit', 'keydown', 'keypress', 'keyup', 'error', 'contextmenu'];

  window.create = function(obj) {
    return creator(obj);
  };

  creator = function(obj) {
    var contentsObj, elem, innerElem, _i, _len, _ref;
    if (obj.contains == null) {
      obj.contains = [];
    }
    if (obj.attributes == null) {
      obj.attributes = {};
    }
    if (obj.type != null) {
      elem = createElem(obj.type, obj.attributes);
      _ref = obj.contains;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        contentsObj = _ref[_i];
        innerElem = typeof contentsObj === 'object' ? create(contentsObj) : document.createTextNode(contentsObj);
        elem.appendChild(innerElem);
      }
      return elem;
    }
  };

  createElem = function(type, attributes) {
    var elem, key, val;
    elem = document.createElement(type);
    for (key in attributes) {
      val = attributes[key];
      if (__indexOf.call(events, key) >= 0) {
        elem = assignevents(elem, key, val);
      } else {
        if (typeof attributes !== "undefined") {
          elem.setAttribute(key, val);
        }
      }
    }
    return elem;
  };

  assignevents = function(elem, handler, fn) {
    var func;
    func = window[fn];
    $(elem).on(handler, function() {
      return func(this);
    });
    return elem;
  };

}).call(this);
